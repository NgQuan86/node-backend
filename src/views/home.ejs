<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home page</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="topnav">
        <a class="active" href="/">Home</a>
        <a href="/create">Create user</a>
    </div>
    <div class="table-container">
        <div class="title">List users</div>

        <!-- use EJS with <%= %> -->
        <!-- <%= JSON.stringify(listUser) %> -->

            <table>
                <tr>
                    <th>ID</th>
                    <th>Email</th>
                    <th>Name</th>
                    <th>City</th>
                    <th>Action</th>
                </tr>

                <!-- For -->
                <!-- <% for(let i=0; i < listUser.length; i++) { %>
                    
                    <tr>
                        <td>
                            <%= listUser[i].id %>
                        </td>
                        <td>
                            <%= listUser[i].email %>
                        </td>
                        <td>
                            <%= listUser[i].name %>
                        </td>
                        <td>
                            <%= listUser[i].city %>
                        </td>
                        <td>
                            <button>Edit</button>
                            <button>Delete</button>
                        </td>
                    </tr>
                <% } %> -->


                <!-- FOREACH  -->
                <% listUser.forEach((user,index)=> { %>
                    <!-- let {id,email,name,city} = listUser -->
                    <tr>
                        <td>
                             <%= user.id %> <!-- - <%= index %> -->
                        </td>
                        <td>
                            <%= user.email %>
                        </td>
                        <td>
                            <%= user.name %>
                        </td>
                        <td>
                            <%= user.city %>
                        </td>
                        <td>
                            <button><a href="/update/<%= user.id %>">Edit</a></button>
                            <form action="/delete-user/<%= user.id %>" method="post">
                                <button>Delete</button>
                            </form>
                            
                        </td>
                    </tr>
                    <% }); %>

            </table>
    </div>
</body>

</html>